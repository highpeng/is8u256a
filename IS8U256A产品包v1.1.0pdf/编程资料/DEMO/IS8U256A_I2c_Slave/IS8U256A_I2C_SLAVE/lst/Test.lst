C51 COMPILER V9.02   TEST                                                                  12/11/2014 10:39:06 PAGE 1   


C51 COMPILER V9.02, COMPILATION OF MODULE TEST
OBJECT MODULE PLACED IN .\obj\Test.obj
COMPILER INVOKED BY: d:\Keil\C51\BIN\C51.EXE src\Test.c BROWSE DEBUG OBJECTEXTEND PRINT(.\lst\Test.lst) OBJECT(.\obj\Tes
                    -t.obj)

line level    source

   1          
   2          #include <string.h>
   3          
   4          #include "..\inc\IS8U256X.h"
   5          
   6          #include "..\inc\IS8U256A_GPIO.h"
   7          
   8          #include "..\inc\IS8U256A_I2CSlave.h"
   9          
  10          #define BUFF_LENGTH             64
  11          
  12          unsigned char xdata Buff1_for_Test[BUFF_LENGTH] _at_ 0x1000;
  13          unsigned char xdata Buff2_for_Test[BUFF_LENGTH] _at_ 0x1080;
  14          
  15          void main(void)
  16          {
  17   1              unsigned char xdata i=0x0;
  18   1              unsigned char xdata bytelen;
  19   1              unsigned int xdata j;
  20   1      
  21   1              CFCR = 0x0;
  22   1      
  23   1              GPIOInit();
  24   1      
  25   1              GPIOSetOutput(GPIO_PIN_20);
  26   1      
  27   1              GPIOReset(GPIO_PIN_20);
  28   1      
  29   1              I2CSlaveInit();
  30   1      
  31   1              while(1)
  32   1              {
  33   2                      for(j=0;j<4000;j++);
  34   2      
  35   2                      if(SLAVE_INPUT==I2CSlavePrepareToTransmit())
  36   2                      {
  37   3                              bytelen = 64;
  38   3                              i = 0x0;
  39   3                              memset(Buff1_for_Test,0x0,sizeof Buff1_for_Test);
  40   3                              while(bytelen)
  41   3                              {
  42   4                                      Buff1_for_Test[i] = I2CSlaveReceByte();
  43   4      
  44   4                                      i++;
  45   4      
  46   4                                      bytelen--;
  47   4                              }
  48   3      
  49   3                              for(i=0;i<64;i++)
  50   3                                      if(0xAA!=Buff1_for_Test[i])
  51   3                                              goto Error;
  52   3                      }
  53   2      
  54   2                      for(j=0;j<4000;j++);
C51 COMPILER V9.02   TEST                                                                  12/11/2014 10:39:06 PAGE 2   

  55   2      
  56   2                      if(SLAVE_OUTPUT==I2CSlavePrepareToTransmit())
  57   2                      {
  58   3                              bytelen = 64;
  59   3                              i = 0x0;
  60   3                              memset(Buff2_for_Test,0xBB,sizeof Buff2_for_Test);
  61   3                              while(bytelen)
  62   3                              {
  63   4                                      I2CSlaveSendByte(Buff2_for_Test[i]);
  64   4      
  65   4                                      i++;
  66   4      
  67   4                                      bytelen--;
  68   4                              }
  69   3                      }
  70   2      
  71   2                      for(j=0;j<8000;j++);
  72   2      
  73   2              }
  74   1      
  75   1      Error:
  76   1              while(1);
  77   1      }
  78          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    308    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----       4
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
